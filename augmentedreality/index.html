<!DOCTYPE html>
<html>
	<!--<script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>-->
	<script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
	<script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>

	<head>
		<style>
		.a-enter-vr-button {
			display: none;
		}

		#footer {
			position: relative;
			width: 100%;
			height: 64px;
			margin-top: 100% - 64px;
			margin-bottom: 0px;
			background-color: #ffffff;
			z-index: -100;
		}

		#previous {
			float: left;
		}

		#next {
			float: right;
		}

		</style>
	</head>
	<body style="margin : 0px; overflow: hidden;">
		<a-scene embedded arjs>

			<a-assets>
				<a-asset-item id="monalisa" src="https://ssmmuseum.github.io/augmentedreality/img/monalisa.gltf"></a-asset-item>
				<a-asset-item id="cardback" src="https://ssmmuseum.github.io/augmentedreality/img/cardback.gltf"></a-asset-item>
			</a-assets>

			<a-marker type="pattern" preset="custom" url="https://ssmmuseum.github.io/augmentedreality/img/marker/pattern-qrcode.patt">
			
			<a-entity
				id="mainCanvas"
				position="0 0 0"
				scale="0.1 0.1 0.1"
				gltf-model="#cardback"
				visible="true"
			></a-entity>

			</a-marker>
			<a-entity camera></a-entity>
		</a-scene>

	<!-- testcanvas.setattribute is the only one that works -->
	<!-- ideally i could change gltf-model in mainCanvas -->
	<!--
	<script>
	document.getElementById("mainCanvas").scale = "0.0 0.0 0.0"; 
	document.getElementById("mainCanvas").setAttribute("scale", "0.0 0.0 0.0");
	document.getElementById("monalisa").src = "https://ssmmuseum.github.io/augmentedreality/img/cardback.gltf"; 
	</script>
	-->

	<script>
	document.getElementById('mainCanvas').setAttribute('gltf-model', '#monalisa');
	</script>

	<div id="footer">

	<button id="previous" class="button"> PREV </button>
	<button id="next" class="button"> NEXT </button>

	</div>


	<!--this test didnt work either 
	<script type="text/javascript">
        window.onload = function(){
			document.getElementById("mainCanvas").setAttribute("scale", "0.0 0.0 0.0");
        };
    </script> -->
	
  </body>
</html>